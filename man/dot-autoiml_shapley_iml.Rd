% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/shapley.R
\name{.autoiml_shapley_iml}
\alias{.autoiml_shapley_iml}
\title{Internal Shapley computation matching iml's intervention design}
\usage{
.autoiml_shapley_iml(
  task,
  model,
  x_interest,
  background,
  sample_size = 100L,
  seed = NULL,
  class_labels = NULL
)
}
\arguments{
\item{task}{mlr3 task}

\item{model}{trained mlr3 learner}

\item{x_interest}{1-row data.table/data.frame with task$feature_names}

\item{background}{data.table/data.frame with task$feature_names}

\item{sample_size}{integer Monte Carlo sample size}

\item{seed}{optional integer seed}

\item{class_labels}{optional character vector; subset classes for multiclass}
}
\value{
data.table with columns: class_label, feature, phi, phi_var, feature_value, sample_size
}
\description{
This follows the 'iml' Shapley algorithm:
\itemize{
\item sample random permutations of features
\item sample a background row for each permutation
\item for each feature position in the permutation, build (with_k, without_k)
instances and compute prediction differences
}
}
\keyword{internal}
